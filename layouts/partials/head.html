{{ $asset_base := .Site.BaseURL }}
{{ if ne (getenv "HUGO_ASSET_BASEURL") "" }}
  {{ $asset_base = (getenv "HUGO_ASSET_BASEURL") }}
{{ end }}
<head>

  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ .Title }}</title>
  <link rel="canonical" href="{{ .Permalink }}" />

  <!-- CSS -->
  <link rel="stylesheet" href="{{ $asset_base }}assets/css/kube.css" />
  <link rel="stylesheet" href="{{ $asset_base }}assets/css/custom.css" />
  <link rel="stylesheet" href="{{ $asset_base }}assets/css/tufte.css" />

  <!-- Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Alegreya:400italic,400,700,700italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Alegreya+SC:400&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=IM+Fell+English:400,400i&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=IM+Fell+English+SC&display=swap" rel="stylesheet">
  <link href="{{ $asset_base }}assets/fonts/fell-flowers/style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.0/css/academicons.min.css">
  <link href="{{ $asset_base }}assets/fonts/fontawesome/css/all.css" rel="stylesheet">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ $asset_base }}assets/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ $asset_base }}assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ $asset_base }}assets/favicon-16x16.png">
  <link rel="shortcut icon" type="image/png" sizes="32x32" href="{{ $asset_base }}assets/favicon-32x32.png">
  <link rel="shortcut icon" type="image/png" sizes="16x16" href="{{ $asset_base }}assets/favicon-16x16.png">
  <link rel="manifest" href="{{ $asset_base }}assets/site.webmanifest">
  <link rel="mask-icon" href="{{ $asset_base }}assets/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="theme-color" content="#ffffff">

  <!-- RSS -->
  {{ with .OutputFormats.Get "rss" -}}
      {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
  {{ end }}

  <!-- Social -->
  <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Summary | plainify }}{{ end }}
" />

  <meta name="twitter:card" content="{{ if .Params.largeimage }}summary_large_image{{ else }}summary{{ end }}">
  <meta name="twitter:url" content="{{ .Permalink }}">
  <meta name="twitter:title" content="{{ .Title }}">
  <meta name="twitter:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Summary | plainify }}{{ end }}">
  <meta name="twitter:image" content="{{ $asset_base }}assets/{{ if .Params.largeimage }}{{ .Params.largeimage }}}{{ else if .Params.image }}{{.Params.image }}{{ else }}img/header-pic.jpg{{ end }}">
  <meta name="twitter:site" content="trang.page">
  <meta name="twitter:creator" content="@trang1618">

  {{ if .Params.twitterImg }}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://trang.page/{{ .Params.twitterImg }}" >
  {{ else }}
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://trang.page/{{ .Site.Params.logo.url }}" >
  {{ end }}

  <meta property="og:title" content="{{ .Title }}" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="trang.page" />
  <meta property="og:description" content="  {{ if .Description }}{{ .Description }}{{ else }}{{ .Summary | plainify }}{{ end }}" />
  <meta property="og:url" content="{{ .Permalink }}" />
  <script type="application/ld+json">
    {"@type":"WebSite","url":"{{ .Permalink }}","headline":"{{ .Title }}", "name":"trang.page","description":"{{ if .Description }}{{ .Description }}{{ else }}{{ .Summary | plainify }}{{ end }}","@context":"http://schema.org"}
  </script>
  
</head>
